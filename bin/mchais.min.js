!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mchains=e():t.mchains=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){const{getRandomFrom:n}=r(1),o=function(t={},e){this.order=t.order||2,this.type=t.type||String,this._states={},this._outputConfig={},this._defaultOutput={minLength:this.order,maxLength:2*this.order,amount:1,capitalizeFirst:!1,cropToLength:!0},e&&this.train(e)};o.prototype.train=function(t){if("object"==typeof t)if(Array.isArray(t))t.forEach(t=>{this.train(t)});else for(var e in t)t.hasOwnProperty(e)&&this.train(t[e]);else{if("string"!=typeof t)throw new Error(`unable to train from provided data, expected an array, an object or a ${this.type} and got a ${typeof t}`);this._learnFrom(t)}},o.prototype._learnFrom=function(t){switch(this.type){case String:this._learnFromString(t);break;case Number:this._learnFromNumber(t);break;default:this._learnFromString(t)}},o.prototype.doesStateExist=function(t){for(var e in this._states)if(this._states.hasOwnProperty(e)&&e===t)return!0;return!1},o.prototype._learnFromString=function(t){for(let e=0;e<t.length-this.order+1;e++){let r=t.substring(e,e+this.order),n=void 0;e+2*this.order<=t.length&&(n=t.substring(e+this.order,e+2*this.order)),this.doesStateExist(r)?(this._states[r].__count__++,n&&(this._states[r][n]?this._states[r][n]++:this._states[r][n]=1)):(this._states[r]={},n&&(this._states[r][n]=1),this._states[r].__count__=1)}},o.prototype.configOutput=function(t){this._outputConfig=t},o.prototype._learnFromNumber=function(t){},o.prototype._getChainStates=function(){return Object.keys(this._states)},o.prototype._getRandomState=function(){const t=Object.keys(this._states);return t[Math.random()*t.length<<0]},o.prototype._getNextState=function(t){const e=this._states[t];if(e){const t=Object.keys(e).filter(t=>{if("__count__"!==t)return t});return t.length>0?n(t):void 0}},o.prototype.generate=function(t=this._outputConfig){for(var e in this._defaultOutput)this._defaultOutput.hasOwnProperty(e)&&(t[e]=t[e]||this._defaultOutput[e]);let r=[];for(;r.length<t.amount;){let e=this._getRandomState(),n=e;const o=t.minLength+Math.round((t.maxLength-t.minLength)*Math.random());t:{for(;n.length<o;){if(!(e=this._getNextState(e)))break t;n+=e}if(n.length>t.maxLength){if(!t.cropToLength)break t;r.push(n.substring(0,t.maxLength))}else r.push(n)}}return r},t.exports=o},function(t,e){t.exports={getRandomFrom:t=>t[Math.random()*t.length<<0]}}])});